import { first } from "lodash";
import { getEnvironmentFromArgs } from "../../../common/index.js";
import { appendProposalExtendedData, getCrossChainProposalData, getExtendedProposalData, getProposalData, } from "./common.js";
export async function getProposal(client, args) {
    const { proposalId } = args;
    const environment = getEnvironmentFromArgs(client, args);
    if (!environment) {
        return undefined;
    }
    const [_proposals, _xcProposals, _extendedDatas] = await Promise.all([
        getProposalData({ environment, id: proposalId }),
        getCrossChainProposalData({ environment, id: proposalId }),
        getExtendedProposalData({ environment, id: proposalId }),
    ]);
    const proposals = [..._proposals, ..._xcProposals];
    appendProposalExtendedData(proposals, _extendedDatas);
    return first(proposals);
}
//# sourceMappingURL=getProposal.js.map