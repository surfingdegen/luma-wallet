import { getEnvironmentsFromArgs } from "../../../common/index.js";
import { appendProposalExtendedData, getCrossChainProposalData, getExtendedProposalData, getProposalData, } from "./common.js";
export async function getProposals(client, args) {
    const environments = getEnvironmentsFromArgs(client, args);
    const environmentProposals = await Promise.all(environments.map((environment) => Promise.all([
        getProposalData({ environment }),
        getCrossChainProposalData({ environment }),
        getExtendedProposalData({ environment }),
    ])));
    const proposals = environments.flatMap((_item, index) => {
        const [_proposals, _xcProposals, _extendedDatas] = environmentProposals[index];
        const proposals = [..._proposals, ..._xcProposals];
        appendProposalExtendedData(proposals, _extendedDatas);
        return proposals;
    });
    return proposals;
}
//# sourceMappingURL=getProposals.js.map