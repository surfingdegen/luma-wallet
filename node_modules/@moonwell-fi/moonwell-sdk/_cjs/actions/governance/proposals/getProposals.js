"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getProposals = void 0;
const index_js_1 = require("../../../common/index.js");
const common_js_1 = require("./common.js");
async function getProposals(client, args) {
    const environments = (0, index_js_1.getEnvironmentsFromArgs)(client, args);
    const environmentProposals = await Promise.all(environments.map((environment) => Promise.all([
        (0, common_js_1.getProposalData)({ environment }),
        (0, common_js_1.getCrossChainProposalData)({ environment }),
        (0, common_js_1.getExtendedProposalData)({ environment }),
    ])));
    const proposals = environments.flatMap((_item, index) => {
        const [_proposals, _xcProposals, _extendedDatas] = environmentProposals[index];
        const proposals = [..._proposals, ..._xcProposals];
        (0, common_js_1.appendProposalExtendedData)(proposals, _extendedDatas);
        return proposals;
    });
    return proposals;
}
exports.getProposals = getProposals;
//# sourceMappingURL=getProposals.js.map