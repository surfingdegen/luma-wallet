"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getMorphoMarketUserPosition = void 0;
const lodash_1 = require("lodash");
const index_js_1 = require("../../../common/index.js");
const common_js_1 = require("./common.js");
async function getMorphoMarketUserPosition(client, args) {
    const environment = (0, index_js_1.getEnvironmentFromArgs)(client, args);
    if (!environment) {
        return undefined;
    }
    let { marketId, market } = args;
    if (!marketId) {
        marketId = environment.config.morphoMarkets[market].id;
    }
    const userPositions = await (0, common_js_1.getMorphoMarketUserPositionsData)({
        environment,
        account: args.userAddress,
        markets: [marketId],
    });
    return (0, lodash_1.first)(userPositions);
}
exports.getMorphoMarketUserPosition = getMorphoMarketUserPosition;
//# sourceMappingURL=getMorphoMarketUserPosition.js.map